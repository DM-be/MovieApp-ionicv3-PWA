<!--
  Generated template for the MovieDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Details</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-grid fixed>
    <ion-card hideWhen="android,ios">
      <ion-card-content>
        <ion-row>
          <ion-col col-3>
            <op-lazy-img [source]="movie.poster"></op-lazy-img>
          </ion-col>
          <ion-col col-9>
            <ion-card-title>
              {{movie.title}}
            </ion-card-title>
            <p>{{movie.overview}}</p>
            <ion-col s3>
              <button ion-button (click)="findSimilar()">similar</button>
            </ion-col>
            <a href="https://www.imdb.com/title/{{IMDBId}}" ion-button color="IMDB" target="_blank">IMDB</a>
            
            <div *ngIf="movie.recommendationText">
              <hr>
              <ion-row>
                <ion-col>
                  <ion-item text-wrap>
                    <ion-avatar item-start>
                      <img src="{{movie.recommendedBy.avatar}}">
                    </ion-avatar>
                    <h2>{{movie.recommendedBy.username}}</h2>
                    <i>{{movie.recommendationText}}</i>
                  </ion-item>
                  <hr>
                </ion-col>
              </ion-row>
            </div>
           
          </ion-col>
        </ion-row>
      </ion-card-content>
    </ion-card>

    <ion-card showWhen="android,ios">
      <ion-card-content>
        <ion-row justify-content-center>
          <op-lazy-img [source]="movie.poster"></op-lazy-img>
          <ion-col col-9>
            <ion-card-title>
              {{movie.title}}
            </ion-card-title>
            <p>
              {{movie.overview}}
            </p>
            <ion-col s3>
                <button ion-button (click)="findSimilar()">similar</button>
              </ion-col>
              <a href="https://www.imdb.com/title/{{IMDBId}}" ion-button target="_blank">IMDB</a>
            </ion-col>
            <div *ngIf="movie.recommendationText">
              <hr>
              <ion-row>
                <ion-col>
                  <ion-item text-wrap>
                    <ion-avatar item-start>
                      <img src="{{movie.recommendedBy.avatar}}">
                    </ion-avatar>
                    <h2>{{movie.recommendedBy.username}}</h2>
                    <i>{{movie.recommendationText}}</i>
                  </ion-item>
                  <hr>
                </ion-col>
              </ion-row>
            </div>
            
        </ion-row>
      </ion-card-content>
    </ion-card>

  </ion-grid>
</ion-content>
